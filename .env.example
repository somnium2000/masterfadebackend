# ---------------------------------------------
# Master Fade - Backend (.env.example)
# Copia este archivo como .env y llena los valores.
# ---------------------------------------------

# --- Servidor ---
PORT=3002
HOST=127.0.0.1

# --- CORS (origenes permitidos, separados por coma) ---
CORS_ORIGINS=http://localhost:5173,http://localhost:5174

# --- Rate Limiting ---
RATE_LIMIT_MAX=200
RATE_LIMIT_WINDOW=1 minute

# --- PostgreSQL / Supabase (RECOMENDADO: DATABASE_URL) ---
# Opcion 1 (recomendada): conexion directa con DATABASE_URL (host db.<PROJECT_REF>.supabase.co, puerto 5432)
# Ejemplo:
# DATABASE_URL=postgresql://postgres:<DB_PASSWORD>@db.<PROJECT_REF>.supabase.co:5432/postgres?sslmode=require
DATABASE_URL=

# Opcion 2: variables separadas (DB_*)
# Direct (Supabase):
#   DB_HOST=db.<PROJECT_REF>.supabase.co
#   DB_PORT=5432
#   DB_USER=postgres
#
# Pooler / pgBouncer (Supabase):
#   DB_HOST=<region>.pooler.supabase.com   (ej. aws-0-us-east-1.pooler.supabase.com)
#   DB_PORT=6543
#   DB_USER=postgres.<PROJECT_REF>         (o <usuario>.<PROJECT_REF>)
DB_HOST=
DB_PORT=5432
DB_USER=
DB_PASSWORD=
DB_NAME=postgres

# Verificacion de conexion al arrancar (select 1)
DB_TEST_CONNECTION=true
DB_CONNECT_TIMEOUT_MS=5000
DB_IDLE_TIMEOUT_MS=10000
DB_POOL_MAX=10

# --- Supabase REST/Auth ---
SUPABASE_URL=
SUPABASE_ANON_KEY=
SUPABASE_SERVICE_ROLE_KEY=

# --- JWT propio de la aplicacion (APP JWT) ---
# Genera un secreto seguro: node -e "console.log(require('crypto').randomBytes(48).toString('base64'))"
JWT_SECRET=
JWT_EXPIRES_IN=12h
APP_JWT_ISSUER=masterfade-api
APP_JWT_AUDIENCE=masterfade-app

# --- Webhooks de pagos ---
# WEBHOOK_SECRET=

# --- SMTP (notificaciones email) - opcional en MVP ---
# SMTP_HOST=
# SMTP_PORT=587
# SMTP_USER=
# SMTP_PASS=
# SMTP_FROM=noreply@masterfade.app
